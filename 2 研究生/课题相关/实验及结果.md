# 所有进行实验



- 2021.3.21

- [ ] ~~ACOL_BG 参数搜索，搜索的参数是BG_threshold，搜索范围是0-1，每一次使用30个epochs~~
- [ ] ~~BG 其中BG_rate=0.9 epochs=50~~ 

实验参数设置有问题，已经全部取消

- 2021.3.22

- [ ] 1.实验探究加入背景loss后acol阈值大小对其的影响，实验日志名称CUB_VGG16_ACOLBG_GS_0_0.5.log 进程17276

```shell
CUDA_VISIBLE_DEVICES=7 nohup python main.py --experiment_name CUB_VGG16_ACOLBG_GS_0_0.5 --lr 0.00010569582 --large_feature_map True --wsol_method acol  --epochs 20 >CUB_VGG16_ACOLBG_GS_0_0.5.log&
```

- [ ] 2.实验探究在BG方法下掩盖大小bg_rate对结果的影响，参数选择0.5-1，实验日志名称CUB_VGG16_BG_GS_0.5.log 进程19579

```shell
CUDA_VISIBLE_DEVICES=7 nohup python main_2.py --experiment_name CUB_VGG16_BG_GS_0.5_1 --lr 0.00001268269 --large_feature_map False --wsol_method bg  --epochs 20 >CUB_VGG16_BG_GS_0.5.log&
```

- [x] 3.实验研究加入attention结构后的CAM方法效果 日志名称CUB_VGG16_CAM_Attention.log 进程21593

```shell
CUDA_VISIBLE_DEVICES=7 nohup python test_attention.py --experiment_name CUB_VGG16_CAM_Attention --lr 0.00001268269 --large_feature_map False --wsol_method cam_attention  --epochs 50 >CUB_VGG16_CAM_Attention.log&
```

实验结果：

```python
Split train, metric loss, current value: 5.270277202467462
Split train, metric loss, best value: 5.269842646938982
Split train, metric loss, best epoch: 43
Split train, metric classification, current value: 0.9509509509509511
Split train, metric classification, best value: 0.9509509509509511
Split train, metric classification, best epoch: 50
Split val, metric classification, current value: 1.0
Split val, metric classification, best value: 1.0
Split val, metric classification, best epoch: 20
Split val, metric localization, current value: 36.699999999999996
Split val, metric localization, best value: 36.833333333333336
Split val, metric localization, best epoch: 40
Split val, metric localization_IOU_30, current value: 75.1
Split val, metric localization_IOU_30, best value: 76.0
Split val, metric localization_IOU_30, best epoch: 8
Split val, metric localization_IOU_50, current value: 29.3
Split val, metric localization_IOU_50, best value: 29.6
Split val, metric localization_IOU_50, best epoch: 38
Split val, metric localization_IOU_70, current value: 5.7
Split val, metric localization_IOU_70, best value: 5.9
Split val, metric localization_IOU_70, best epoch: 21
Split test, metric classification, current value: 0.8284432171211599
Split test, metric localization, current value: 40.85260614428719
Split test, metric localization_IOU_30, current value: 80.30721435968243
Split test, metric localization_IOU_50, current value: 35.329651363479464
Split test, metric localization_IOU_70, current value: 6.920952709699689
```

实验结果较差，可以看出来分类误差还很大，分类精度很低，可以适当调高学习率

- 2021.3.23

- [ ] 4.实验依旧探究attention机制对于CAM影响，这次增加学习率 实验日志CUB_VGG16_CAM_Attention_lr_1_268269e_4.log 进程45897 

```shell
CUDA_VISIBLE_DEVICES=3 nohup python test_attention.py --experiment_name CUB_VGG16_CAM_Attention_lr_1_268269e_4 --lr 0.0001268269 --large_feature_map False --wsol_method cam_attention  --epochs 50 >CUB_VGG16_CAM_Attention_lr_1_268269e_4.log&
```

- [ ] 5.实验探究学习率对于加入attention机制后cam影响，从log分布中选择学习率，范围是1e-2-1e-5 实验日志 CUB_VGG16_CAM_Attention_lr_search.log 进程48110

```shell
CUDA_VISIBLE_DEVICES=3 nohup python test_attention.py --experiment_name CUB_VGG16_CAM_Attention_lr_search  --large_feature_map False --wsol_method cam_attention  --epochs 20 >CUB_VGG16_CAM_Attention_lr_search.log&
```















